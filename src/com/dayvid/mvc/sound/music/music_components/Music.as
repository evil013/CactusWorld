package com.dayvid.mvc.sound.music.music_components {	import com.dayvid.mvc.model.model_components.OptionsSettings;	import com.dayvid.util.SoundPanVol;		import flash.events.Event;	import flash.media.Sound;	import flash.media.SoundChannel;
		public class Music 	{		private var music:Sound;		private var channel:SoundChannel = new SoundChannel();		private var musicPlaying:Boolean;		private var model:OptionsSettings;		private var setPanAndVol:SoundPanVol;				public function Music(aModel:OptionsSettings, aSoundClass:Class) 		{			model = aModel;			musicPlaying = false;			music = new aSoundClass();			setPanAndVol = new SoundPanVol();		}				public function get playing():Boolean		{			return musicPlaying;		}				public function playMusic():void 		{			if (!musicPlaying) 			{				//channel = music.play(0);				channel = music.play(0, 1000);				//channel.addEventListener(Event.SOUND_COMPLETE, channelComplete);				musicPlaying = true;			}			setSoundTransform(model.musicVolume);		}				public function stopMusic():void 		{			if (musicPlaying) 			{				//channel.removeEventListener(Event.SOUND_COMPLETE, channelComplete);				channel.stop();				musicPlaying = false;			}		}				public function setSoundTransform(aVol:Number = 1, aPan:Number = 0, aX:* = null):void 		{			if (aX != null) 			{				setPanAndVol.adjustSound(channel, aVol, aPan, aX, model.movieWidth);			} 			else 			{				setPanAndVol.adjustSound(channel, aVol, aPan);			}		}				/*private function channelComplete(event:Event):void		{			trace("channelComplete");			channel.removeEventListener(Event.SOUND_COMPLETE, channelComplete);			channel = music.play(0);			channel.addEventListener(Event.SOUND_COMPLETE, channelComplete);		}*/				public function cleanUp():void 		{			stopMusic();			music = null;			channel = null;			model = null;			setPanAndVol = null;		}	}}